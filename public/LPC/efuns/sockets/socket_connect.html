
<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<TITLE>网络游戏《天下》  管理员手册</TITLE>
<LINK rel="stylesheet" href="../content.css">
</HEAD>

<BODY background="../../images/bk.gif">

<DIV style="position:absolute; left:0px; top:20px;">
<pre class="content">

     socket_connect(3)      MudOS (5 Sep 1994)       socket_connect(3)

     名称：
          socket_connect() - 初始化一个 socket 上的连接(connection)

     语法：
          #include <socket_err.h>

          int socket_connect( int s, string address,
                              string read_callback,
                              string write_callback );

          整数 socket_connect( 整数 s, 字串 address,
                               字串 read_callback,
                               字串 write_callback );

     用法：
          参数 s 是一个 socket。s 必须是一个 STREAM 型态或是一个 MUD
          型态的 socket。address 是这个 socket 将要尝试连接的位址。位
          址是 "127.0.0.1 23" 这种格式。

          read_callback 参数是给驱动程式在由它的另一端得到资料时呼叫的
          函式名称。这个读取回呼(callback)函式应该是如下格式：

               void read_callback(int fd, mixed message)

          这里的 fd 是要接收资料的 socket，而 message 是接收到的资料。

          write_callback 参数是给驱动程式在 socket 已准备好写入时呼叫
          的函式名称。这个写入回呼函式应该是如下格式：

               void write_callback(int fd)

          这里的 fd 是已准备好写入的 socket。

     传回值：
          socket_connect() 传回：

               成功时是 EESUCCESS。

               失败时是一个含有如下意义的负值。

     错误值：
          EEFDRANGE      描述值(descriptor)超出□围。

          EEBADF         无效的描述值。

          EESECURITY     企图违反安全。

          EEMODENOTSUPP  不支援此 socket 型态。

          EEISLISTEN     socket 正在倾听(listening)。

          EEISCONN       socket 已连接。

          EEBADADDR      位址格式问题。

          EEINTR         中断的系统呼叫。

          EEADDRINUSE    位址已被使用。

          EEALREADY      操作已在进行中。

          EECONNREFUSED  连接被拒绝。

          EECONNECT      连接问题。

     参照：
          socket_accept(3), socket_close(3), socket_create(3)

     翻译：
          Kenny@Broken.History       97.Jul.27       (printed 3/16/95)
</PRE></DIV></BODY></HTML>

